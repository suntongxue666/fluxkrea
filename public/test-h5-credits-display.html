<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H5ç«¯ç§¯åˆ†æ˜¾ç¤ºæµ‹è¯•</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
        }
        
        .test-container {
            max-width: 400px;
            margin: 0 auto;
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .test-section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        
        /* æ¡Œé¢ç«¯ç§¯åˆ†æ˜¾ç¤ºæ ·å¼ */
        .credits-display {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 6px 12px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 20px;
            color: white;
            font-weight: 600;
            font-size: 14px;
            margin: 10px 0;
        }

        .credits-display i {
            font-size: 16px;
            color: #ffd700;
        }
        
        /* H5ç«¯ç§¯åˆ†æ˜¾ç¤ºæ ·å¼ */
        @media (max-width: 768px) {
            .credits-display {
                background: none !important;
                border-radius: 0 !important;
                padding: 0 !important;
                color: #333 !important;
                font-weight: 600;
                font-size: 14px;
            }
            
            .credits-display i {
                font-size: 16px;
                color: #ffd700 !important;
            }
        }
        
        .comparison {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 10px 0;
        }
        
        .device-label {
            font-weight: bold;
            color: #666;
            margin-bottom: 10px;
        }
        
        .test-button {
            background: #007bff;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        
        .result {
            margin: 10px 0;
            padding: 10px;
            border-radius: 4px;
            background: #f8f9fa;
        }
        
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        
        /* æ¨¡æ‹Ÿä¸åŒå±å¹•å°ºå¯¸ */
        .desktop-view {
            width: 100%;
            border: 2px solid #007bff;
            padding: 10px;
            margin: 10px 0;
        }
        
        .mobile-view {
            width: 375px;
            border: 2px solid #28a745;
            padding: 10px;
            margin: 10px 0;
        }
        
        @media (max-width: 768px) {
            .desktop-view {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>H5ç«¯ç§¯åˆ†æ˜¾ç¤ºæµ‹è¯•</h1>
        
        <div class="test-section">
            <h3>å½“å‰ç§¯åˆ†æ˜¾ç¤ºæ•ˆæœ</h3>
            <div class="device-label">å½“å‰è®¾å¤‡æ˜¾ç¤ºï¼š</div>
            <div class="credits-display" id="currentCreditsDisplay">
                <i class="fas fa-coins"></i>
                <span id="creditsAmount">25</span>
            </div>
            <div id="currentResult" class="result"></div>
        </div>
        
        <div class="test-section desktop-view">
            <h3>æ¡Œé¢ç«¯æ•ˆæœé¢„è§ˆ</h3>
            <div class="device-label">æ¡Œé¢ç«¯ï¼ˆ>768pxï¼‰ï¼š</div>
            <div style="display: flex; align-items: center; gap: 6px; padding: 6px 12px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 20px; color: white; font-weight: 600; font-size: 14px; width: fit-content;">
                <i class="fas fa-coins" style="font-size: 16px; color: #ffd700;"></i>
                <span>25</span>
            </div>
            <p style="color: #666; font-size: 12px;">è“ç´«è‰²æ¸å˜èƒŒæ™¯ï¼Œç™½è‰²æ–‡å­—ï¼Œåœ†è§’æŒ‰é’®æ ·å¼</p>
        </div>
        
        <div class="test-section">
            <h3>H5ç«¯æ•ˆæœé¢„è§ˆ</h3>
            <div class="device-label">ç§»åŠ¨ç«¯ï¼ˆâ‰¤768pxï¼‰ï¼š</div>
            <div style="display: flex; align-items: center; gap: 6px; color: #333; font-weight: 600; font-size: 14px; width: fit-content;">
                <i class="fas fa-coins" style="font-size: 16px; color: #ffd700;"></i>
                <span>25</span>
            </div>
            <p style="color: #666; font-size: 12px;">æ— èƒŒæ™¯ï¼Œé»‘è‰²æ–‡å­—ï¼Œç®€æ´æ˜¾ç¤º</p>
        </div>
        
        <div class="test-section">
            <h3>åŠŸèƒ½æµ‹è¯•</h3>
            <button class="test-button" onclick="testCreditsUpdate()">æµ‹è¯•ç§¯åˆ†æ›´æ–°</button>
            <button class="test-button" onclick="testResponsiveDesign()">æµ‹è¯•å“åº”å¼è®¾è®¡</button>
            <button class="test-button" onclick="testIconDisplay()">æµ‹è¯•å›¾æ ‡æ˜¾ç¤º</button>
            <div id="testResult" class="result"></div>
        </div>
        
        <div class="test-section">
            <h3>è®¾å¤‡ä¿¡æ¯</h3>
            <div id="deviceInfo" class="result"></div>
        </div>
    </div>

    <script>
        // æ£€æµ‹å½“å‰æ˜¾ç¤ºæ•ˆæœ
        function checkCurrentDisplay() {
            const creditsDisplay = document.getElementById('currentCreditsDisplay');
            const result = document.getElementById('currentResult');
            
            if (!creditsDisplay) {
                result.className = 'result error';
                result.textContent = 'âŒ æœªæ‰¾åˆ°ç§¯åˆ†æ˜¾ç¤ºå…ƒç´ ';
                return;
            }
            
            const styles = window.getComputedStyle(creditsDisplay);
            const isMobile = window.innerWidth <= 768;
            
            const hasBackground = styles.background !== 'rgba(0, 0, 0, 0)' && styles.background !== 'none';
            const hasBorderRadius = parseInt(styles.borderRadius) > 0;
            const textColor = styles.color;
            const padding = styles.padding;
            
            let status = '';
            let className = 'result ';
            
            if (isMobile) {
                // H5ç«¯æ£€æŸ¥
                if (!hasBackground && !hasBorderRadius && textColor === 'rgb(51, 51, 51)') {
                    status = 'âœ… H5ç«¯æ ·å¼æ­£ç¡®ï¼šæ— èƒŒæ™¯ï¼Œé»‘è‰²æ–‡å­—ï¼Œæ— åœ†è§’';
                    className += 'success';
                } else {
                    status = `âŒ H5ç«¯æ ·å¼å¼‚å¸¸ï¼šèƒŒæ™¯=${hasBackground}, åœ†è§’=${hasBorderRadius}, æ–‡å­—é¢œè‰²=${textColor}`;
                    className += 'error';
                }
            } else {
                // æ¡Œé¢ç«¯æ£€æŸ¥
                if (hasBackground && hasBorderRadius && textColor === 'rgb(255, 255, 255)') {
                    status = 'âœ… æ¡Œé¢ç«¯æ ·å¼æ­£ç¡®ï¼šæœ‰èƒŒæ™¯ï¼Œç™½è‰²æ–‡å­—ï¼Œæœ‰åœ†è§’';
                    className += 'success';
                } else {
                    status = `âŒ æ¡Œé¢ç«¯æ ·å¼å¼‚å¸¸ï¼šèƒŒæ™¯=${hasBackground}, åœ†è§’=${hasBorderRadius}, æ–‡å­—é¢œè‰²=${textColor}`;
                    className += 'error';
                }
            }
            
            result.className = className;
            result.textContent = status;
        }
        
        // æµ‹è¯•ç§¯åˆ†æ›´æ–°
        function testCreditsUpdate() {
            const creditsAmount = document.getElementById('creditsAmount');
            const result = document.getElementById('testResult');
            
            if (!creditsAmount) {
                result.className = 'result error';
                result.textContent = 'âŒ æœªæ‰¾åˆ°ç§¯åˆ†æ•°å­—å…ƒç´ ';
                return;
            }
            
            // æ¨¡æ‹Ÿç§¯åˆ†æ›´æ–°
            const originalCredits = creditsAmount.textContent;
            const newCredits = Math.floor(Math.random() * 100) + 1;
            
            creditsAmount.textContent = newCredits;
            
            setTimeout(() => {
                result.className = 'result success';
                result.textContent = `âœ… ç§¯åˆ†æ›´æ–°æµ‹è¯•æˆåŠŸï¼š${originalCredits} â†’ ${newCredits}`;
            }, 100);
        }
        
        // æµ‹è¯•å“åº”å¼è®¾è®¡
        function testResponsiveDesign() {
            const result = document.getElementById('testResult');
            const isMobile = window.innerWidth <= 768;
            
            result.className = 'result success';
            result.innerHTML = `
                <strong>ğŸ“± å“åº”å¼è®¾è®¡æ£€æµ‹</strong><br>
                â€¢ å±å¹•å®½åº¦: ${window.innerWidth}px<br>
                â€¢ è®¾å¤‡ç±»å‹: ${isMobile ? 'H5ç§»åŠ¨ç«¯' : 'æ¡Œé¢ç«¯'}<br>
                â€¢ æ ·å¼åº”ç”¨: ${isMobile ? 'ç®€æ´é»‘å­—æ ·å¼' : 'è“ç´«è‰²æŒ‰é’®æ ·å¼'}
            `;
        }
        
        // æµ‹è¯•å›¾æ ‡æ˜¾ç¤º
        function testIconDisplay() {
            const icon = document.querySelector('.credits-display i');
            const result = document.getElementById('testResult');
            
            if (!icon) {
                result.className = 'result error';
                result.textContent = 'âŒ æœªæ‰¾åˆ°ç§¯åˆ†å›¾æ ‡';
                return;
            }
            
            const styles = window.getComputedStyle(icon);
            const iconColor = styles.color;
            const fontSize = styles.fontSize;
            
            result.className = 'result success';
            result.innerHTML = `
                <strong>ğŸª™ å›¾æ ‡æ˜¾ç¤ºæ£€æµ‹</strong><br>
                â€¢ å›¾æ ‡ç±»å: ${icon.className}<br>
                â€¢ å›¾æ ‡é¢œè‰²: ${iconColor}<br>
                â€¢ å›¾æ ‡å¤§å°: ${fontSize}<br>
                â€¢ æ˜¾ç¤ºçŠ¶æ€: ${iconColor === 'rgb(255, 215, 0)' ? 'âœ… é‡‘è‰²æ­£å¸¸' : 'âš ï¸ é¢œè‰²å¼‚å¸¸'}
            `;
        }
        
        // æ˜¾ç¤ºè®¾å¤‡ä¿¡æ¯
        function showDeviceInfo() {
            const deviceInfo = document.getElementById('deviceInfo');
            const userAgent = navigator.userAgent;
            const isMobile = window.innerWidth <= 768;
            
            deviceInfo.innerHTML = `
                <strong>è®¾å¤‡ä¿¡æ¯ï¼š</strong><br>
                â€¢ å±å¹•å°ºå¯¸: ${window.innerWidth} x ${window.innerHeight}<br>
                â€¢ è®¾å¤‡ç±»å‹: ${isMobile ? 'H5ç§»åŠ¨ç«¯ (â‰¤768px)' : 'æ¡Œé¢ç«¯ (>768px)'}<br>
                â€¢ ç”¨æˆ·ä»£ç†: ${userAgent.includes('Mobile') ? 'ç§»åŠ¨è®¾å¤‡' : 'æ¡Œé¢è®¾å¤‡'}<br>
                â€¢ æµè§ˆå™¨: ${getBrowserName()}
            `;
        }
        
        function getBrowserName() {
            const userAgent = navigator.userAgent;
            if (userAgent.includes('Chrome')) return 'Chrome';
            if (userAgent.includes('Firefox')) return 'Firefox';
            if (userAgent.includes('Safari')) return 'Safari';
            if (userAgent.includes('Edge')) return 'Edge';
            return 'æœªçŸ¥æµè§ˆå™¨';
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œæ£€æŸ¥
        window.addEventListener('load', () => {
            checkCurrentDisplay();
            showDeviceInfo();
        });
        
        // çª—å£å¤§å°æ”¹å˜æ—¶é‡æ–°æ£€æŸ¥
        window.addEventListener('resize', () => {
            setTimeout(() => {
                checkCurrentDisplay();
                showDeviceInfo();
            }, 100);
        });
    </script>
</body>
</html>