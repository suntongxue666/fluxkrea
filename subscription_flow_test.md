# è®¢é˜…æµç¨‹æµ‹è¯•æŒ‡å—

## ğŸ” ç™»å½•è¦æ±‚éªŒè¯

### æµ‹è¯•åœºæ™¯ 1: åŒ¿åç”¨æˆ·å°è¯•è®¢é˜…
1. æ¸…é™¤æµè§ˆå™¨localStorage: `localStorage.clear()`
2. è®¿é—® `/pricing.html`
3. ç‚¹å‡» "Choose Pro" æˆ– "Choose Max" æŒ‰é’®
4. **é¢„æœŸç»“æœ**: æ˜¾ç¤ºç™»å½•è¦æ±‚æ¨¡æ€æ¡†ï¼Œä¸èƒ½ç›´æ¥è®¢é˜…

### æµ‹è¯•åœºæ™¯ 2: å·²ç™»å½•ç”¨æˆ·è®¢é˜…
1. è®¿é—® `/login.html`
2. ç‚¹å‡» "Continue with Google" æŒ‰é’®
3. ç­‰å¾…æ¨¡æ‹Ÿç™»å½•å®Œæˆï¼ˆ2ç§’ï¼‰
4. è‡ªåŠ¨é‡å®šå‘åˆ°é¦–é¡µæˆ–è¿”å›é¡µé¢
5. è®¿é—® `/pricing.html`
6. ç‚¹å‡» "Choose Pro" æŒ‰é’®
7. **é¢„æœŸç»“æœ**: ç›´æ¥æ˜¾ç¤ºPayPalè®¢é˜…æ¨¡æ€æ¡†

### æµ‹è¯•åœºæ™¯ 3: ç™»å½•åç›´æ¥è®¢é˜…
1. åŒ¿åçŠ¶æ€ä¸‹è®¿é—® `/pricing.html`
2. ç‚¹å‡» "Choose Pro" æŒ‰é’®
3. åœ¨ç™»å½•è¦æ±‚æ¨¡æ€æ¡†ä¸­ç‚¹å‡» "Sign in with Google"
4. å®Œæˆç™»å½•åè‡ªåŠ¨é‡å®šå‘åˆ° `/pricing.html?plan=pro`
5. **é¢„æœŸç»“æœ**: é¡µé¢åŠ è½½åè‡ªåŠ¨æ‰“å¼€Pro Plançš„è®¢é˜…æ¨¡æ€æ¡†

## ğŸ” ç”¨æˆ·èº«ä»½éªŒè¯é€»è¾‘

### localStorage æ•°æ®ç»“æ„
```javascript
{
  userUuid: "user_1754239290136_toqa4uqugas",
  userEmail: "user@gmail.com", 
  userName: "Test User",
  userAvatar: "",
  loginTime: "2025-01-06T10:30:00.000Z"
}
```

### è®¤è¯æ£€æŸ¥å‡½æ•°
```javascript
function checkUserAuthentication() {
    const userUuid = localStorage.getItem('userUuid');
    const userEmail = localStorage.getItem('userEmail');
    
    // å¿…é¡»æœ‰UUIDå’Œé‚®ç®±
    if (!userUuid || !userEmail) return false;
    
    // UUIDæ ¼å¼æ£€æŸ¥
    if (!userUuid.startsWith('user_') || userUuid.length < 20) return false;
    
    // é‚®ç®±æ ¼å¼æ£€æŸ¥
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!emailRegex.test(userEmail)) return false;
    
    return true;
}
```

## ğŸ’³ PayPalè®¢é˜…é›†æˆ

### è®¢é˜…è®¡åˆ’é…ç½®
- **Pro Plan**: `P-5ML4271244454362WXNWU5NI` - $9.99/æœˆ - 1000ç§¯åˆ†
- **Max Plan**: `P-3NJ78684DS796242VNCJBKQQ` - $19.99/æœˆ - 5000ç§¯åˆ†

### è®¢é˜…æµç¨‹
1. ç”¨æˆ·ç™»å½•éªŒè¯ âœ…
2. é€‰æ‹©è®¢é˜…è®¡åˆ’ âœ…
3. PayPalæ”¯ä»˜å¤„ç† âœ…
4. Webhookäº‹ä»¶å¤„ç† âš ï¸ (éœ€è¦å®Œå–„)
5. ç”¨æˆ·ç§¯åˆ†æ›´æ–° âš ï¸ (éœ€è¦å®Œå–„)
6. è®¢é˜…çŠ¶æ€åŒæ­¥ âš ï¸ (éœ€è¦å®Œå–„)

## ğŸš¨ å®‰å…¨è€ƒè™‘

### ä¸ºä»€ä¹ˆè¦æ±‚ç™»å½•ï¼Ÿ
1. **ç”¨æˆ·è·Ÿè¸ªå¯é æ€§**: Gmailç™»å½•æä¾›ç¨³å®šçš„ç”¨æˆ·æ ‡è¯†
2. **è®¢é˜…ç®¡ç†**: ç”¨æˆ·éœ€è¦æŸ¥çœ‹å’Œç®¡ç†è®¢é˜…çŠ¶æ€
3. **è·¨è®¾å¤‡åŒæ­¥**: ç§¯åˆ†å’Œè®¢é˜…çŠ¶æ€éœ€è¦è·¨è®¾å¤‡è®¿é—®
4. **å®¢æœæ”¯æŒ**: æ˜ç¡®çš„ç”¨æˆ·èº«ä»½ä¾¿äºå¤„ç†é—®é¢˜
5. **é˜²æ¬ºè¯ˆ**: å‡å°‘æ¶æ„åˆ·å•å’Œé‡å¤è®¢é˜…

### åŒ¿åç”¨æˆ·é™åˆ¶
- âŒ ä¸èƒ½è´­ä¹°è®¢é˜…
- âŒ ä¸èƒ½æŸ¥çœ‹è®¢é˜…å†å²
- âŒ ä¸èƒ½ç®¡ç†æ”¯ä»˜æ–¹å¼
- âœ… å¯ä»¥ä½¿ç”¨å…è´¹ç§¯åˆ†ï¼ˆ20ç§¯åˆ†ï¼‰
- âœ… å¯ä»¥ä½“éªŒåŸºæœ¬åŠŸèƒ½

## ğŸ§ª æµ‹è¯•å‘½ä»¤

### æ¸…é™¤ç”¨æˆ·ç™»å½•çŠ¶æ€
```javascript
localStorage.clear();
location.reload();
```

### æ¨¡æ‹Ÿç”¨æˆ·ç™»å½•
```javascript
localStorage.setItem('userUuid', 'user_1754239290136_toqa4uqugas');
localStorage.setItem('userEmail', 'test@gmail.com');
localStorage.setItem('userName', 'Test User');
location.reload();
```

### æ£€æŸ¥è®¤è¯çŠ¶æ€
```javascript
console.log('è®¤è¯çŠ¶æ€:', checkUserAuthentication());
console.log('ç”¨æˆ·ID:', getUserId());
console.log('ç”¨æˆ·é‚®ç®±:', getUserEmail());
```

## ğŸ“‹ å¾…å®Œå–„åŠŸèƒ½

1. **çœŸå®Google OAuthé›†æˆ** (å½“å‰æ˜¯æ¨¡æ‹Ÿç™»å½•)
2. **Webhookå¤„ç†å®Œå–„** (PayPaläº‹ä»¶ â†’ æ•°æ®åº“æ›´æ–°)
3. **ç”¨æˆ·ç§¯åˆ†å®æ—¶åŒæ­¥** (è®¢é˜…æ¿€æ´» â†’ ç§¯åˆ†å‘æ”¾)
4. **è®¢é˜…çŠ¶æ€ç®¡ç†** (å–æ¶ˆã€æš‚åœã€ç»­è´¹)
5. **é”™è¯¯å¤„ç†ä¼˜åŒ–** (æ”¯ä»˜å¤±è´¥ã€ç½‘ç»œé”™è¯¯ç­‰)

## ğŸ¯ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. æµ‹è¯•å½“å‰çš„ç™»å½•æµç¨‹
2. å®Œå–„PayPal Webhookå¤„ç†
3. éªŒè¯æ•°æ®åº“è®°å½•åˆ›å»º
4. æµ‹è¯•ç§¯åˆ†å‘æ”¾é€»è¾‘
5. éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ